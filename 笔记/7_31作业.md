##### 要求：
1、在namespace default中使用Deployment部署pod 3个运行nginx，使用service 端口映射到clusterIP的8080端口
2、在namespace devtest中 使用Statefulset部署pod 3个 运行PHP，使用service 的clusterIP访问
3、在namespace opstest中，使用Statefulset部署pod 1个运行mysql
访问nginx的service的clusterIP地址，可以打开index.php的测试页面，及mysql的链接测试
******
```shell
# 创建作业目录
mkdir lnmp
cd lnmp
# 编写nginx.yaml文件
vim nginx.yaml
###
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx
spec:
  replicas: 3
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:latest
        ports:
        - containerPort: 80
---
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  selector:
    app: nginx
  ports:
    - protocol: TCP
      port: 8080
      targetPort: 80
###
# 验证
kubectl infopod default
```
![](https://gitee.com/zhaojiedong/img/raw/master/202407311540227.png)

```shell
# 编写php.yaml文件
vim php.yaml
###

###
```